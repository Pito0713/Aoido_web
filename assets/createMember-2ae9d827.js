import{_ as B,u as F,a as y,r as $,i as E,A as O,l as P,o as A,B as C,c as p,d as b,e as l,f as e,w as d,q as h,t as r,C as L,D as c,m as S,v as N,F as U,g as k,p as R,h as j}from"./index-34d9ee9b.js";import{s as q}from"./vue3-datepicker.esm-48161463.js";import{g as z}from"./goBackPage-e1a1ab44.js";import{S as x}from"./service-9db6be5c.js";import"./arrowLeft-005e5e05.js";const G=M=>(R("data-v-7e55e886"),M=M(),j(),M),H={class:"createMember"},J={class:"createMember_container"},K={class:"createMember_text"},Q={class:"createMember_container_inputgroup"},W={class:"createMember_errorMessage"},X={class:"createMember_container"},Y={class:"createMember_text"},Z={class:"createMember_container_inputgroup"},ee={class:"createMember_errorMessage"},te={class:"createMember_container"},ae={class:"createMember_text"},se={class:"createMember_container_inputgroup"},oe={class:"createMember_container"},re={class:"createMember_text"},ne={class:"createMember_container_inputgroup"},le={class:"createMember_errorMessage"},ie={class:"createMember_container"},de={class:"createMember_text"},ue={class:"createMember_container_inputgroup"},ce={class:"createMember_errorMessage"},me={class:"createMember_container"},_e={class:"createMember_text"},pe={class:"createMember_container_inputgroup"},be={class:"createMember_container"},Me={class:"createMember_text"},he={class:"createMember_container_inputgroup",style:{"flex-direction":"row"}},ge=["value"],fe=G(()=>e("a",{style:{"font-size":"1.5rem",margin:"0px 10px"}}," / ",-1)),ve=["value"],ye={class:"createMember_container"},we={class:"createMember_text"},Ve={class:"createMember_container_inputgroup"},$e={__name:"createMember",props:{msg:String|Number},setup(M){const w=F(),o=y({account:"",password:"",createdAt:"",birth:new Date,mail:"",phone:"",uesrName:"",addres:"",city:"",town:""}),g=y({data:{}}),m=y({City:"",Town:""}),_=$("臺北市"),V=$("中正區"),D=E(),{handleSubmit:I,form:Ce,errors:Se}=O(),f=I(async s=>{let a={account:o.account,password:o.password,uesrName:o.uesrName,birth:o.birth,mail:o.mail,phone:o.phone,addres:o.addres,city:o.city,town:o.town};const i=await x.postRegister(a);(i==null?void 0:i.status)==="success"&&(i!=null&&i.data)&&(D.push("/loginPage"),w.isNotificationChange(!0),w.NotificationMessageChange("登入成功"))}),T=async()=>{const s=await x.getCountyItems();if((s==null?void 0:s.status)==="success"&&(s!=null&&s.data)){g.data=s.data;const a=Object.keys(s.data);m.City=a.filter(i=>i!=="_id"),m.Town=g.data[_.value]}};return P(_,()=>{m.Town=g.data[_.value]}),A(()=>{T()}),(s,a)=>{const i=C("ErrorMessage"),u=C("Field");return p(),b("div",null,[l(z),e("form",{onSubmit:a[11]||(a[11]=L((...t)=>h(f)&&h(f)(...t),["prevent"]))},[e("div",H,[l(u,{name:"account",modelValue:o.account,"onUpdate:modelValue":a[0]||(a[0]=t=>o.account=t),rules:"account"},{default:d(({field:t})=>[e("label",J,[e("a",K,r(s.$t("帳號"))+"("+r(s.$t("必填"))+"):",1),e("div",Q,[e("input",c({type:"text"},t),null,16),l(i,{name:"account"},{default:d(({message:n})=>[e("a",W,r(s.$t(n)),1)]),_:1})])])]),_:1},8,["modelValue"]),l(u,{name:"password",modelValue:o.password,"onUpdate:modelValue":a[1]||(a[1]=t=>o.password=t),rules:"password"},{default:d(({field:t})=>[e("label",X,[e("a",Y,r(s.$t("密碼"))+"("+r(s.$t("必填"))+"):",1),e("div",Z,[e("input",c({type:"text"},t),null,16),l(i,{name:"password"},{default:d(({message:n})=>[e("a",ee,r(s.$t(n)),1)]),_:1})])])]),_:1},8,["modelValue"]),l(u,{name:"birth",label:"birth",modelValue:o.birth,"onUpdate:modelValue":a[3]||(a[3]=t=>o.birth=t)},{default:d(()=>[e("label",te,[e("a",ae,r(s.$t("生日"))+":",1),e("div",se,[l(h(q),{modelValue:o.birth,"onUpdate:modelValue":a[2]||(a[2]=t=>o.birth=t),style:{width:"175px",height:"2rem"}},null,8,["modelValue"])])])]),_:1},8,["modelValue"]),l(u,{name:"mail",modelValue:o.mail,"onUpdate:modelValue":a[4]||(a[4]=t=>o.mail=t),rules:"mail"},{default:d(({field:t})=>[e("label",oe,[e("a",re,r(s.$t("郵箱"))+":",1),e("div",ne,[e("input",c({type:"text"},t),null,16),l(i,{name:"mail"},{default:d(({message:n})=>[e("a",le,r(s.$t(n)),1)]),_:1})])])]),_:1},8,["modelValue"]),l(u,{name:"phone",modelValue:o.phone,"onUpdate:modelValue":a[5]||(a[5]=t=>o.phone=t),rules:"phone"},{default:d(({field:t})=>[e("label",ie,[e("a",de,r(s.$t("電話"))+"("+r(s.$t("必填"))+"):",1),e("div",ue,[e("input",c({type:"text"},t),null,16),l(i,{name:"phone"},{default:d(({message:n})=>[e("a",ce,r(s.$t(n)),1)]),_:1})])])]),_:1},8,["modelValue"]),l(u,{name:"uesrName",modelValue:o.uesrName,"onUpdate:modelValue":a[6]||(a[6]=t=>o.uesrName=t)},{default:d(({field:t})=>[e("label",me,[e("a",_e,r(s.$t("暱稱"))+":",1),e("div",pe,[e("input",c({type:"text"},t),null,16)])])]),_:1},8,["modelValue"]),l(u,{name:"City"},{default:d(({field:t})=>[e("label",be,[e("a",Me,r(s.$t("縣市/鄉鎮"))+":",1),e("div",he,[S(e("select",{class:"createMember_select","onUpdate:modelValue":a[7]||(a[7]=n=>_.value=n)},[(p(!0),b(U,null,k(m.City,(n,v)=>(p(),b("option",{key:v,value:n},r(n),9,ge))),128))],512),[[N,_.value]]),fe,S(e("select",{class:"createMember_select","onUpdate:modelValue":a[8]||(a[8]=n=>V.value=n)},[(p(!0),b(U,null,k(m.Town,(n,v)=>(p(),b("option",{key:v,value:n},r(n),9,ve))),128))],512),[[N,V.value]])])])]),_:1}),l(u,{name:"addres",modelValue:o.addres,"onUpdate:modelValue":a[9]||(a[9]=t=>o.addres=t)},{default:d(({field:t})=>[e("label",ye,[e("a",we,r(s.$t("地址"))+":",1),e("div",Ve,[e("input",c({type:"text"},t),null,16)])])]),_:1},8,["modelValue"]),e("button",{class:"createMember_button",type:"button",onClick:a[10]||(a[10]=t=>h(f)())},r(s.$t("創建")),1)])],32)])}}},Ie=B($e,[["__scopeId","data-v-7e55e886"]]);export{Ie as default};
