import{_ as f,a as w,i as v,A as V,u as M,B as g,c as k,d as y,f as e,e as n,w as l,t as d,C as A,j as i,D as u,q as W}from"./index-34d9ee9b.js";import{S}from"./service-9db6be5c.js";import{g as $}from"./goBackPage-e1a1ab44.js";import"./arrowLeft-005e5e05.js";const B={class:"memberPage_handPassWord_container"},C={class:"memberPage_handPassWord_content"},q={class:"memberPage_handPassWord_label"},D={class:"memberPage_handPassWord_input"},E={class:"createMember_errorMessage"},F={class:"memberPage_handPassWord_content"},N={class:"memberPage_handPassWord_label"},U={class:"memberPage_handPassWord_input"},H={class:"createMember_errorMessage"},j={class:"memberPage_handPassWord_content"},x={class:"memberPage_handPassWord_label"},I={class:"memberPage_handPassWord_input"},L={class:"createMember_errorMessage"},R={class:"memberPage_handPassWord_button"},z={type:"submit"},G={__name:"memberPage_handPassWord",props:{msg:String|Number},setup(J){const r=w({oldPassWord:"",newPassWord:"",newPassWordAgain:"",token:""}),p=v(),{handleSubmit:b,form:K,errors:O}=V(),P=M(),h=async()=>{P.isloadingChange(!0);let a=i.get("token"),o={oldPassWord:r.oldPassWord,newPassWord:r.newPassWord,newPassWordAgain:r.newPassWordAgain,token:a};const t=await S.postHandPassWord(o);(t==null?void 0:t.status)==="success"&&(t!=null&&t.data)&&(i.remove("password"),i.remove("token"),p.push("/loginPage")),P.isloadingChange(!1)},c=b(a=>{h()});return(a,o)=>{const t=g("ErrorMessage"),m=g("Field");return k(),y("div",null,[e("form",{onSubmit:o[3]||(o[3]=A((...s)=>W(c)&&W(c)(...s),["prevent"]))},[n($),e("div",B,[n(m,{name:"oldPassWord",modelValue:r.oldPassWord,"onUpdate:modelValue":o[0]||(o[0]=s=>r.oldPassWord=s),rules:"required"},{default:l(({field:s})=>[e("label",C,[e("a",q,d(a.$t("舊密碼"))+":",1),e("div",D,[e("input",u({type:"text"},s),null,16),n(t,{name:"oldPassWord"},{default:l(({message:_})=>[e("a",E,d(a.$t(_)),1)]),_:1})])])]),_:1},8,["modelValue"]),n(m,{name:"newPassWord",modelValue:r.newPassWord,"onUpdate:modelValue":o[1]||(o[1]=s=>r.newPassWord=s),rules:"required"},{default:l(({field:s})=>[e("label",F,[e("a",N,d(a.$t("新密碼"))+": ",1),e("div",U,[e("input",u({type:"text"},s),null,16),n(t,{name:"newPassWord"},{default:l(({message:_})=>[e("a",H,d(a.$t(_)),1)]),_:1})])])]),_:1},8,["modelValue"]),n(m,{name:"newPassWordAgain",modelValue:r.newPassWordAgain,"onUpdate:modelValue":o[2]||(o[2]=s=>r.newPassWordAgain=s),rules:"required|confirmed:@newPassWord"},{default:l(({field:s})=>[e("label",j,[e("a",x,d(a.$t("確認新密碼"))+":",1),e("div",I,[e("input",u({type:"text"},s),null,16),n(t,{name:"newPassWordAgain"},{default:l(({message:_})=>[e("a",L,d(a.$t(_)),1)]),_:1})])])]),_:1},8,["modelValue"]),e("div",R,[e("button",z,d(a.$t("變更")),1)])])],32)])}}},Z=f(G,[["__scopeId","data-v-632bf992"]]);export{Z as default};
