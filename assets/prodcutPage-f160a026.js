import{_ as m,u as w,i as K,c as l,d as u,f as t,t as g,j as U,k as f,r as v,l as S,m as I,v as j,F as D,g as F,q,p as V,h as T,a as C,o as O,s as k,e as x,x as R,y as E,z as G}from"./index-34d9ee9b.js";import{S as P}from"./service-9db6be5c.js";import{_ as H}from"./arrowLeft-005e5e05.js";const J="/Aoido_web/assets/filter-9dd3ebce.svg",Q="/Aoido_web/assets/search-c79765df.svg";const W={class:"prodcutPage_coupon_content"},X={class:"prodcutPage_coupon_img"},Y=["src"],Z={class:"prodcutPage_coupon_title"},tt={class:"prodcutPage_coupon_title_text"},et={class:"prodcutPage_coupon_container"},at={class:"prodcutPage_coupon_info"},ot={class:"prodcutPage_coupon_describe"},st={class:"prodcutPage_coupon_text"},ct={class:"prodcutPage_coupon_describe_text",style:{"font-size":"1.8rem"}},nt={class:"accordion_content"},it={class:"accordion_content_info"},dt={__name:"prodcutPage_coupon",props:{data:{}},setup(s){const i=s,n=w(),a=K(),_=async o=>{let d=U.get("token");if(["",null,void 0].includes(d))n.isNotificationChange(!0),n.NotificationMessageChange("需先登入"),a.push("/loginPage");else{n.isloadingChange(!0);let p={id:o._id,token:d,count:1};await P.postCreateCart(p),n.isloadingChange(!1)}},r=()=>{a.push({name:"prodcutPage_Detail",params:{id:i.data._id},query:i.data})};return(o,d)=>(l(),u("div",W,[t("div",X,[t("img",{src:s.data.imageUrl},null,8,Y)]),t("div",Z,[t("a",tt," $ "+g(s.data.price),1)]),t("div",et,[t("div",at,[t("div",ot,[t("div",st,[t("a",ct,g(s.data.describe),1),t("div",null,[t("button",{class:"prodcutPage_coupon_button",onClick:d[0]||(d[0]=p=>_(s.data))},[t("a",null,g(o.$t("購買")),1)])])])])]),t("div",nt,[t("div",it,[t("button",{class:"accordion_content_button",onClick:d[1]||(d[1]=p=>r())},[t("a",null,g(o.$t("商品詳細")),1)])])])])]))}},_t=m(dt,[["__scopeId","data-v-fc0edbd5"]]);const lt=["value"],rt={class:"prodcutPage_category_item"},ut={__name:"prodcutPage_category",setup(s){const i=f("categoryList"),n=f("callCategoryFilter"),a=v("全部");return S(a,(_,r)=>{n(_)}),(_,r)=>I((l(),u("select",{class:"prodcutPage_category_container select_container","onUpdate:modelValue":r[0]||(r[0]=o=>a.value=o)},[(l(!0),u(D,null,F(q(i).data,(o,d)=>(l(),u("option",{key:d,value:o.category},[t("div",rt,g(o.category),1)],8,lt))),128))],512)),[[j,a.value]])}},gt=m(ut,[["__scopeId","data-v-dc1c7b1c"]]),pt="/Aoido_web/assets/arrowRight-c6358a0e.svg";const A=s=>(V("data-v-ead564fb"),s=s(),T(),s),vt={class:"pagination_container"},ht=["disabled"],yt=A(()=>t("img",{class:"pagination_Arrow",src:H},null,-1)),mt=[yt],Pt={style:{margin:"0 10px"}},$t={style:{"font-size":"20px"}},bt=A(()=>t("img",{class:"pagination_Arrow",src:pt},null,-1)),ft=[bt],Ct={__name:"pagination",props:{page:String|Number},setup(s){const i=s;return(n,a)=>(l(),u("div",vt,[t("button",{onClick:a[0]||(a[0]=_=>n.$emit("onPageChange",i.page-1>0?i.page-1:1)),disabled:i.page==1},mt,8,ht),t("div",Pt,[t("a",$t,g(i.page),1)]),t("button",{onClick:a[1]||(a[1]=_=>n.$emit("onPageChange",i.page+1))},ft)]))}},kt=m(Ct,[["__scopeId","data-v-ead564fb"]]);const N=s=>(V("data-v-231c2dc0"),s=s(),T(),s),xt={class:"prodcutPage_container"},wt={class:"prodcutPage_content"},St={class:"prodcutPage_category"},It=N(()=>t("img",{src:J},null,-1)),Dt={key:0},Ft={key:1},Vt={style:{border:"1px black solid"},class:"prodcutPage_category_container"},Tt=["onKeydown"],At=N(()=>t("img",{class:"prodcutPage_category_img",src:Q},null,-1)),Nt=[At],Bt={class:"prodcutPage_Item"},Lt={key:1,class:"prodcutPage_coupon_content"},Mt={class:"prodcutPage_Item_noData"},zt={class:"prodcutPage_pagination"},Kt={__name:"prodcutPage",setup(s){const i=w(),n=v(""),a=v(1),_=v(50),r=v([]),o=v("asc"),d=C({data:{}}),p=C({data:{}}),h=async e=>{i.isloadingChange(!0);let c=await P.postProductDatabase(e);(c==null?void 0:c.status)==="success"&&(c!=null&&c.data)&&(d.data=c.data),i.isloadingChange(!1)},B=async()=>{i.isloadingChange(!0);let e=await P.postProductFilter();(e==null?void 0:e.status)==="success"&&(e!=null&&e.data)&&(p.data=e.data),i.isloadingChange(!1)},L=e=>{a.value=e;let c={searchText:n.value,category:r.value,page:e,pagination:_.value,isSort:o.value};h(c)},M=e=>{r.value=[e],a.value=1;let c={searchText:n.value,category:[e],page:a.value,pagination:_.value,isSort:o.value};h(c)},z=()=>{o.value=o.value==="asc"?"desc":"asc"},$=()=>{let e={searchText:n.value,category:r.value,page:a.value,pagination:_.value,isSort:o.value};h(e)};return O(()=>{h({searchText:"",category:[],page:a.value,pagination:_.value,isSort:o.value}),B()}),S(o,(e,c)=>{h({searchText:n.value,category:r.value,page:a.value,pagination:_.value,isSort:o.value})}),k("categoryList",p),k("callCategoryFilter",M),(e,c)=>{var b;return l(),u("div",xt,[t("div",wt,[t("div",null,[t("div",St,[x(gt),t("div",null,[t("button",{style:{},class:"prodcutPage_category_container",onClick:c[0]||(c[0]=y=>z())},[It,o.value==="asc"?(l(),u("a",Dt,g(e.$t("從價格低排序")),1)):(l(),u("a",Ft,g(e.$t("從價格高排序")),1))]),t("div",Vt,[I(t("input",{type:"text","onUpdate:modelValue":c[1]||(c[1]=y=>n.value=y),onKeydown:E($,["enter"])},null,40,Tt),[[R,n.value]]),t("button",{onClick:$},Nt)])])])]),t("div",Bt,[((b=d==null?void 0:d.data)==null?void 0:b.length)>0?(l(!0),u(D,{key:0},F(d.data,(y,Ut)=>(l(),G(_t,{data:y},null,8,["data"]))),256)):(l(),u("div",Lt,[t("div",Mt,[t("a",null,g(e.$t("暫無資料")),1)])]))]),t("div",zt,[x(kt,{page:a.value,onOnPageChange:L},null,8,["page"])])])])}}},Rt=m(Kt,[["__scopeId","data-v-231c2dc0"]]);export{Rt as default};
